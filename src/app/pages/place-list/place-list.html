<div class="place-list-container">
  <div class="header">
    <h2>Listado de Lugares Naturales</h2>
    <p class="subtitle">Explora los destinos naturales m√°s hermosos de M√©xico</p>
  </div>

  <!-- Loading State -->
  @if (loading) {
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Cargando lugares...</p>
    </div>
  }

  <!-- Error State -->
  @if (error) {
    <div class="error-state">
      <div class="error-content">
        <h3>‚ö†Ô∏è Error</h3>
        <p>{{ error }}</p>
        <button (click)="retryLoad()" class="retry-button">Reintentar</button>
      </div>
    </div>
  }

  <!-- Content State -->
  @if (!loading && !error) {
    <div class="content">
      <!-- Filters -->
      <div class="filters">
        <label for="category-filter">Filtrar por categor√≠a:</label>
        <select id="category-filter" [(ngModel)]="selectedCategory" (change)="filterByCategory(selectedCategory)">
          <option value="all">Todas las categor√≠as</option>
          @for (category of categories; track category) {
            <option [value]="category">{{ category }}</option>
          }
        </select>
        <span class="count">({{ filteredPlaces.length }} lugares)</span>
      </div>

      <!-- Places Grid -->
      <div class="places-grid">
        @for (place of filteredPlaces; track place.id) {
          <div class="place-card">
            <div class="place-header">
              <h3>{{ place.name }}</h3>
              <span class="category-badge">{{ place.category }}</span>
            </div>
            <div class="place-details">
              <div class="coordinates">
                <strong>üìç Coordenadas:</strong>
                <span>{{ place.latitude | number:'1.4-4' }}, {{ place.longitude | number:'1.4-4' }}</span>
              </div>
            </div>
          </div>
        }
      </div>

      <!-- Empty State -->
      @if (filteredPlaces.length === 0) {
        <div class="empty-state">
          <p>No se encontraron lugares para la categor√≠a seleccionada.</p>
        </div>
      }
    </div>
  }
</div>